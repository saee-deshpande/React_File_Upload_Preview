{"ast":null,"code":"var _jsxFileName = \"D:\\\\File Upload React JS\\\\file-upload-preview\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [file, setFile] = useState(null);\n  const [preview, setPreview] = useState(null);\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const [newFile, setnewFile] = useState(null);\n  const handleFileChange = e => {\n    const selectedFile = e.target.files[0];\n    setFile(selectedFile);\n    setPreview(URL.createObjectURL(selectedFile));\n  };\n  const handleUpload = async () => {\n    if (!file) return alert('Please select a file first!');\n    const formData = new FormData();\n    formData.append('file', file);\n    try {\n      const res = await axios.post('http://localhost:5000/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      setUploadedFile(res.data.filePath);\n      console.log(\"uploaded File\", uploadedFile);\n      alert('File uploaded successfully!');\n      const newfile = res.data.filePath.replace(\"/uploads\", \"\");\n      setnewFile(newfile);\n      console.log(\"new\", newFile);\n    } catch (err) {\n      console.error(err);\n      alert('File upload failed!');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      textAlign: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"File Upload with Preview\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      onChange: handleFileChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpload,\n      style: {\n        marginLeft: '10px'\n      },\n      children: \"Upload\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), preview && (console.log(\"preview\", preview), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Preview:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: preview,\n        alt: \"Preview\",\n        style: {\n          width: '300px',\n          height: '200px',\n          objectFit: 'contain'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this)), uploadedFile != null && (console.log(\"uploadedfile\", uploadedFile), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Uploaded File:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: `http://localhost:5000${newFile}`,\n        target: \"_blank\",\n        rel: \"noreferrer\",\n        children: \"View Uploaded File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"q+lzCwLvXiP6G+jgdyjRnQf3Qko=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","App","_s","file","setFile","preview","setPreview","uploadedFile","setUploadedFile","newFile","setnewFile","handleFileChange","e","selectedFile","target","files","URL","createObjectURL","handleUpload","alert","formData","FormData","append","res","post","headers","data","filePath","console","log","newfile","replace","err","error","style","padding","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","onClick","marginLeft","marginTop","src","alt","width","height","objectFit","href","rel","_c","$RefreshReg$"],"sources":["D:/File Upload React JS/file-upload-preview/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst App = () => {\n    const [file, setFile] = useState(null);\n    const [preview, setPreview] = useState(null);\n    const [uploadedFile, setUploadedFile] = useState(null);\n    const [newFile, setnewFile] = useState(null);\n\n    const handleFileChange = (e) => {\n        const selectedFile = e.target.files[0];\n        setFile(selectedFile);\n        setPreview(URL.createObjectURL(selectedFile));\n    };\n\n    const handleUpload = async () => {\n        if (!file) return alert('Please select a file first!');\n        const formData = new FormData();\n        formData.append('file', file);\n\n        try {\n            const res = await axios.post('http://localhost:5000/upload', formData, {\n                headers: { 'Content-Type': 'multipart/form-data' },\n            });\n            setUploadedFile(res.data.filePath);\n           \n            console.log(\"uploaded File\",uploadedFile);\n            alert('File uploaded successfully!');\n           \n            const newfile = res.data.filePath.replace(\"/uploads\", \"\");\n            setnewFile(newfile);\n            console.log(\"new\",newFile);\n            \n            \n            \n\n        } catch (err) {\n            console.error(err);\n            alert('File upload failed!');\n        }\n    };\n\n    return (\n        <div style={{ padding: '20px', textAlign: 'center' }}>\n            <h1>File Upload with Preview</h1>\n            <input type=\"file\" onChange={handleFileChange} />\n            <button onClick={handleUpload} style={{ marginLeft: '10px' }}>Upload</button>\n\n            {preview && (\n              console.log(\"preview\",preview),\n                <div style={{ marginTop: '20px' }}>\n                    <h2>Preview:</h2>\n                    <img src={preview} alt=\"Preview\" style={{ width: '300px', height: '200px', objectFit: 'contain' }} />\n                </div>\n            )}\n\n            {uploadedFile != null && (\n              console.log(\"uploadedfile\",uploadedFile),\n                <div style={{ marginTop: '20px' }}>\n                    <h2>Uploaded File:</h2>\n                    <a href={`http://localhost:5000${newFile}`} target=\"_blank\" rel=\"noreferrer\">\n                        View Uploaded File\n                    </a>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}